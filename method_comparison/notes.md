## Running methods comparison analysis:

For all these analyses, make sure you are in the right conda environment first;

`conda activate circuit_pruner`


#### target activations

First, before extracting circuits at different sparsities, we want the activations of the original features, which we will compare our circuits to;

`python target_activations.py`

#### get saliency criteria

For the actgrad, SNIP, and magnitude saliency criteria, we can compute saliency independent of sparsity. We'll precompute/save these values before extracting circuits;

`python magnitude_rank.py`
`python submit_snip_rank.py`
`python submit_actgrad_rank.py`

The above is run with respect to the regularized model, run with respect to normal alexnet by changing the line

`config = '../configs/alexnet_sparse_config.py'`

to 

`config = '../configs/alexnet_config.py'`


#### extract circuits at sparsities

`submit_extract_model.py`

change the line `method = . . .` to 'actxgrad', 'magnitude',and 'snip', to extract with respect to the saliencies from each method.


#### FORCE

For FORCE model extraction, we need to do something different from above, as saliency scores are conditioned on sparsity.

`submit_force_extract_model.py`


#### Plotting


you can then plot interactively using `plotting.ipynb`, this can be with respect to either 'quickstart' or the data you generated by running the above (set at the top of the notebook).


